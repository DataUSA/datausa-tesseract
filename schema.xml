<Schema name="Data_USA">
  
  <SharedDimension name="Date">
    <Hierarchy name="Date" primary_key="date">
      <Table name="dim_shared_date"/>
      <Level name="Date" key_column="date" key_type="text">
      </Level>
    </Hierarchy>
  </SharedDimension>

  <SharedDimension name="State">
      <Hierarchy name="State" primary_key="state_id">
        <Table name="dim_shared_state"/>
        <Level name="State" key_column="state_id" name_column="state" key_type="text">
        </Level>
      </Hierarchy>
  </SharedDimension>

  <SharedDimension name="State Election">
    <Hierarchy name="State" primary_key="geoid">
      <Table name="states_shapes2017"/>
      <Level name="State" key_column="geoid" name_column="name" key_type="text">
        <Annotation name="dim_type">GEOGRAPHY</Annotation>
      </Level>
    </Hierarchy>
  </SharedDimension>

  <SharedDimension name="County Election">
    <Hierarchy name="County" primary_key="geoid">
      <Table name="counties_shapes2017"/>
      <Level name="County" key_column="geoid" name_column="name" key_type="text">
        <Annotation name="dim_type">GEOGRAPHY</Annotation>
      </Level>
    </Hierarchy>
  </SharedDimension>

  <Cube name="Data_USA_Senate_election">

    <Annotation name="source_name">MIT Data Electionlab</Annotation>
    <Annotation name="source_link">https://electionlab.mit.edu/data</Annotation>
    <Annotation name="dataset_name">U.S Senate 1976-2020</Annotation>
    <Annotation name="dataset_link">https://dataverse.harvard.edu/api/access/datafile/:persistentId?persistentId=doi:10.7910/DVN/PEJ5QU/XXQCIK</Annotation>
    <Annotation name="source_name">Federal Election Commision</Annotation>
    <Annotation name="source_link">https://www.fec.gov/</Annotation>
    <Annotation name="available_dimensions">Candidate, Geography, Party, Year, Candidate Other, Special</Annotation>
    <Annotation name="hidden_dimensions">Unofficial, Version</Annotation>
    <Annotation name="hide_in_ui">Unofficial, Version</Annotation>
    
      <Table name="election_senate" primary_key="candidate_id"/>

      <DimensionUsage name="State" source="State Election" foreign_key="geo_id" type="geo" />
  
      <Dimension foreign_key="candidate_id" name="Candidate" source="election_senate">
        <Hierarchy name="Candidate" primary_key="candidate_id">
          <Level name="Candidate" key_column="candidate_id" name_column="candidate" key_type="text">
            <Property name="Office" column="office"/>
          </Level>
        </Hierarchy>
      <Annotation name="dim_type">CANDIDATE</Annotation>
      </Dimension>
  
      <Dimension foreign_key="candidate_other" name="Candidate Other" source="election_senate">
        <Hierarchy name="Candidate Other" primary_key="candidate_other">
          <Level key_column="candidate_other" name="Candidate Other" key_type="text"/>
        </Hierarchy>
      <Annotation name="dim_type">CANDIDATE OTHER</Annotation>
      </Dimension>
  
      <Dimension foreign_key="party" name="Party" source="election_senate">
        <Hierarchy name="Party" primary_key="party">
          <Level key_column="party" name="Party" key_type="text"/>
        </Hierarchy>
      <Annotation name="dim_type">PARTY</Annotation>
      </Dimension>
  
      <Dimension foreign_key="special" name="Special" source="election_senate">
        <Hierarchy name="Special" primary_key="special">
          <Level key_column="special" name="Special"/>
        </Hierarchy>
      <Annotation name="dim_type">SPECIAL</Annotation>
      </Dimension>
  
      <Dimension foreign_key="unofficial" name="Unofficial" source="election_senate">
        <Hierarchy name="Unofficial" primary_key="unofficial">
          <Level key_column="unofficial" name="Unofficial"/>
        </Hierarchy>
      </Dimension>
  
      <Dimension type="time" foreign_key="year" name="Year" source="election_senate">
        <Hierarchy name="Year" primary_key="year">
          <Level key_column="year" name="Year"/>
        </Hierarchy>
      <Annotation name="dim_type">YEAR</Annotation>
      <Annotation name="default_year">2020</Annotation>
      </Dimension>
  
      <Measure name="Candidate Votes" column="candidatevotes" aggregator="sum" visible="true">
        <Annotation name="units_ofmeasurement">VOTES</Annotation>
      </Measure>
  
      <Measure name="Total Votes" column="totalvotes" aggregator="max" visible="true">
        <Annotation name="units_ofmeasurement">VOTES</Annotation>
      </Measure>
  
    </Cube>

  <Cube name="Data_USA_House_election">

    <Annotation name="source_name">MIT Data Electionlab</Annotation>
    <Annotation name="source_link">https://electionlab.mit.edu/data</Annotation>
    <Annotation name="dataset_name">U.S House 1976-2020</Annotation>
    <Annotation name="dataset_link">https://dataverse.harvard.edu/api/access/datafile/:persistentId?persistentId=doi:10.7910/DVN/IG0UN2/8KAB8V</Annotation>
    <Annotation name="source_name">Federal Election Commision</Annotation>
    <Annotation name="source_link">https://www.fec.gov/</Annotation>
    <Annotation name="available_dimensions">Candidate, Geography, Party, Year, Candidate Other, Special</Annotation>
    <Annotation name="hidden_dimensions">Unofficial, Version</Annotation>
    <Annotation name="hide_in_ui">Unofficial, Version</Annotation>
    
      <Table name="election_house" primary_key="candidate_id"/>
  
      <Dimension type="geo" foreign_key="state_id" name="Geography" default_hierarchy="State">
        <Hierarchy name="Geography">
          <Table name="dim_election_geo" />
          <Level name="State" key_column="state_id" name_column="state_name" key_type="text"/>
          <Level name="Congressional District" key_column="state_id" name_column="congressional_name" key_type="text"/>
        </Hierarchy>
        <Annotation name="dim_type">GEOGRAPHY</Annotation>
      </Dimension>
  
      <Dimension foreign_key="candidate_id" name="Candidate" source="election_house">
        <Hierarchy name="Candidate" primary_key="candidate_id">
          <Level name="Candidate" key_column="candidate_id" name_column="candidate" key_type="text">
            <Property name="Office" column="office"/>
          </Level>
        </Hierarchy>
      <Annotation name="dim_type">CANDIDATE</Annotation>
      </Dimension>
  
      <Dimension foreign_key="candidate_other" name="Candidate Other" source="election_house">
        <Hierarchy name="Candidate Other" primary_key="candidate_other">
          <Level key_column="candidate_other" name="Candidate Other" key_type="text"/>
        </Hierarchy>
      <Annotation name="dim_type">CANDIDATE OTHER</Annotation>
      </Dimension>
  
      <Dimension foreign_key="party" name="Party" source="election_house">
        <Hierarchy name="Party" primary_key="party">
          <Level key_column="party" name="Party" key_type="text"/>
        </Hierarchy>
      <Annotation name="dim_type">PARTY</Annotation>
      </Dimension>
  
      <Dimension foreign_key="special" name="Special" source="election_house">
        <Hierarchy name="Special" primary_key="special">
          <Level key_column="special" name="Special"/>
        </Hierarchy>
      <Annotation name="dim_type">SPECIAL</Annotation>
      </Dimension>
  
      <Dimension foreign_key="runoff" name="Runoff" source="election_house">
        <Hierarchy name="Runoff" primary_key="runoff">
          <Level key_column="runoff" name="Runoff"/>
        </Hierarchy>
      <Annotation name="dim_type">RUNOFF</Annotation>
      </Dimension>
  
      <Dimension foreign_key="unofficial" name="Unofficial" source="election_house">
        <Hierarchy name="Unofficial" primary_key="unofficial">
          <Level key_column="unofficial" name="Unofficial"/>
        </Hierarchy>
      </Dimension>
  
      <Dimension  type="time" foreign_key="year" name="Year" source="election_house">
        <Hierarchy name="Year" primary_key="year">
          <Level key_column="year" name="Year"/>
        </Hierarchy>
      <Annotation name="dim_type">YEAR</Annotation>
      <Annotation name="default_year">2020</Annotation>
      </Dimension>
  
      <Measure name="Candidate Votes" column="candidatevotes" aggregator="sum" visible="true">
        <Annotation name="units_ofmeasurement">VOTES</Annotation>
      </Measure>
  
      <Measure measure_type="units_ofmeasurement" name="Total Votes" column="totalvotes" aggregator="max" visible="true">
        <Annotation name="units_ofmeasurement">VOTES</Annotation>
      </Measure>
  
    </Cube>

  <Cube name="Data_USA_President_election">

    <Annotation name="source_name">MIT Data Electionlab</Annotation>
    <Annotation name="source_link">https://electionlab.mit.edu/data</Annotation>
    <Annotation name="dataset_name">U.S President 1976-2020</Annotation>
    <Annotation name="dataset_link">https://dataverse.harvard.edu/api/access/datafile/:persistentId?persistentId=doi:10.7910/DVN/42MVDX/MFU99O</Annotation>
    <Annotation name="dataset_name">County Presidential Election Returns 2000-2020</Annotation>
    <Annotation name="dataset_link">https://dataverse.harvard.edu/api/access/datafile/:persistentId?persistentId=doi:10.7910/DVN/VOQCHQ/FQ9NBF</Annotation>
    <Annotation name="source_name">Federal Election Commision</Annotation>
    <Annotation name="source_link">https://www.fec.gov/</Annotation>
    <Annotation name="available_dimensions">Candidate, Geography, Party, Year</Annotation>
    <Annotation name="hidden_dimensions">Version</Annotation>
    
      <Table name="election_president" primary_key="candidate_id"/>
  
      <Dimension type= "geo" name="Geography" foreign_key="geo_id" default_hierarchy="Nation">
        <Hierarchy hasAll="true" name="Geography">
            <Table name="dim_election_geo" />
            <Level name="Nation" key_column="nation_id" name_column="nation_name" key_type="text"/>
            <Level name="State" key_column="state_id" name_column="state_name" key_type="text"/>
            <Level name="County" key_column="county_id" name_column="county_name" key_type="text"/>
        </Hierarchy>
      <Annotation name="dim_type">GEOGRAPHY</Annotation>
      </Dimension>
  
      <Dimension foreign_key="candidate_id" name="Candidate" source="election_president">
        <Hierarchy name="Candidate" primary_key="candidate_id">
          <Level name="Candidate" key_column="candidate_id" name_column="candidate" key_type="text">
            <Property name="Office" column="office"/>
          </Level>
        </Hierarchy>
      <Annotation name="dim_type">CANDIDATE</Annotation>
      </Dimension>
  
      <Dimension foreign_key="party" name="Party" source="election_president">
        <Hierarchy name="Party" primary_key="party">
          <Level key_column="party" name="Party" key_type="text"/>
        </Hierarchy>
      <Annotation name="dim_type">PARTY</Annotation>
      </Dimension>
  
      <Dimension type="time" foreign_key="year" name="Year" source="election_president">
        <Hierarchy name="Year" primary_key="year">
          <Level key_column="year" name="Year">
            <Annotation name="default_year">2020</Annotation>
          </Level>
        </Hierarchy>
      <Annotation name="dim_type">YEAR</Annotation>
      </Dimension>
  
      <Measure name="Candidate Votes" column="candidatevotes" aggregator="sum" visible="true">
        <Annotation name="units_of_measurement">VOTES</Annotation>
      </Measure>
  
      <Measure name="Total Votes" column="totalvotes" aggregator="max" visible="true">
        <Annotation name="units_of_measurement">VOTES</Annotation>
      </Measure>
  
    </Cube>

  <Cube name="Data_USA_House_Compact_election">

    <Annotation name="source_name">MIT Data Electionlab</Annotation>
    <Annotation name="source_link">https://electionlab.mit.edu/data</Annotation>
    <Annotation name="dataset_name">U.S House 1976-2020</Annotation>
    <Annotation name="dataset_link">https://dataverse.harvard.edu/api/access/datafile/:persistentId?persistentId=doi:10.7910/DVN/IG0UN2/8KAB8V</Annotation>
    <Annotation name="source_name">Federal Election Commision</Annotation>
    <Annotation name="source_link">https://www.fec.gov/</Annotation>
    <Annotation name="hidden_dimensions">Version</Annotation>
    <Annotation name="source_description">By applying scientific principles to how elections are studied and administered, the MIT Election Lab aims to improve the democratic experience for all U.S. voters. The lab supports advances in election science by collecting, analyzing, and sharing core data and findings. They also aim to build relationships with election officials and others to help apply new scientific research to the practice of democracy in the United States.</Annotation>
    
      <Table name="election_house_compact" schema="election" primary_key="winning_candidate"/>
  
      <Dimension type="geo" foreign_key="district" name="Geography" default_hierarchy="State">
        <Hierarchy hasAll="true" name="State">
          <Table name="congressionaldistrict" />
          <Level name="State" key_column="geoid" name_column="state_name" key_type="text"/>
        </Hierarchy>
        <Hierarchy name="Congressional District" primary_key="geoid">
          <Table name="congressionaldistrict" />
          <Level name="State District" key_column="geoid" name_column="state_name" key_type="text"/>
          <Level name="Congressional District" key_column="geoid" name_column="name" key_type="text"/>
        </Hierarchy>
        <Annotation name="dim_type">GEOGRAPHY</Annotation>
      </Dimension>
      
      <Dimension  type="time" foreign_key="year" name="Year" source="election_house_compact">
        <Hierarchy name="Year" primary_key="year">
          <Level name="Year" key_column="year"/>
        </Hierarchy>
      <Annotation name="dim_type">YEAR</Annotation>
      <Annotation name="default_year">2020</Annotation>
      </Dimension>

      <Dimension foreign_key="winning_candidate" name="Candidate" source="election_house_compact">
        <Hierarchy name="Candidate" primary_key="winning_candidate">
          <Level name="Candidate" key_column="winning_candidate" key_type="text"/>
        </Hierarchy>
      <Annotation name="dim_type">CANDIDATE</Annotation>
      </Dimension>

      <Dimension foreign_key="special" name="Special" source="election_house_compact">
        <Hierarchy name="Special" primary_key="special">
          <Level key_column="special" name="Special"/>
        </Hierarchy>
      <Annotation name="dim_type">SPECIAL</Annotation>
      </Dimension>

      <Dimension foreign_key="party" name="Party" source="election_house_compact">
        <Hierarchy name="Party" primary_key="party">
          <Level key_column="party" name="Party" key_type="text"/>
        </Hierarchy>
      <Annotation name="dim_type">PARTY</Annotation>
      </Dimension>

      <Dimension foreign_key="runoff" name="Runoff" source="election_house_compact">
        <Hierarchy name="Runoff" primary_key="runoff">
          <Level key_column="runoff" name="Runoff"/>
        </Hierarchy>
      <Annotation name="dim_type">RUNOFF</Annotation>
      </Dimension>

      <Measure name="Winner Votes" column="winner_votes" aggregator="sum" visible="true">
        <Annotation name="units_ofmeasurement">VOTES</Annotation>
      </Measure>
      
      <Measure name="Other Votes" column="other_votes" aggregator="sum" visible="true">
        <Annotation name="units_ofmeasurement">VOTES</Annotation>
      </Measure>

      <Measure name="Total Votes" column="total_votes" aggregator="max" visible="true">
        <Annotation name="units_ofmeasurement">VOTES</Annotation>
      </Measure>
  
    </Cube>

    <Cube name="Data_USA_Electoral_College_president">

      <Annotation name="source_name">Federal Election Commision</Annotation>
      <Annotation name="source_link">https://www.fec.gov/</Annotation>
      <Annotation name="dataset_name">Federal Elections 2016: Election Results for the U.S. President, the U.S. Senate, and the U.S. House of Representatives</Annotation>
      <Annotation name="dataset_link">https://transition.fec.gov/pubrec/fe2016/federalelections2016.xlsx</Annotation>
      <Annotation name="dataset_name">Federal Elections 2004: Election Results for the U.S. President, the U.S. Senate, and the U.S. House of Representatives</Annotation>
      <Annotation name="dataset_link">https://transition.fec.gov/pubrec/fe2004/federalelections2004.xls</Annotation>
      <Annotation name="available_dimensions">Geography, Party, Year</Annotation>
      
        <Table name="election_electoralcollege" primary_key="geoid"/>
    
        <Dimension type="geo" name="Geography" foreign_key="geoid" source="states_shapes2017">
            <Hierarchy name="State" primary_key="geoid">
                <Table name="states_shapes2017" />
                <Level name="State" key_column="geoid" name_column="name" key_type="text"/>
            </Hierarchy>
        <Annotation name="dim_type">GEOGRAPHY</Annotation>
        </Dimension>
    
        <Dimension type="time" foreign_key="year" name="Year" source="election_electoralcollege">
          <Hierarchy name="Year" primary_key="year">
            <Level key_column="year" name="Year"/>
          </Hierarchy>
        <Annotation name="dim_type">YEAR</Annotation>
        <Annotation name="default_year">2020</Annotation>
        </Dimension>
    
        <Dimension foreign_key="party" name="Party" source="election_electoralcollege">
          <Hierarchy name="Party" primary_key="party">
            <Level key_column="party" name="Party" key_type="text"/>
          </Hierarchy>
        <Annotation name="dim_type">PARTY</Annotation>
        </Dimension>
    
        <Measure name="Electoral College Votes" column="electoralvote" aggregator="sum" visible="true">
          <Annotation name="units_ofmeasurement">VOTES</Annotation>
        </Measure>
    
      </Cube>
  
      <Cube name="BLS Unemployment Insurance Claims">
    
        <Annotation name="source_name">U.S Department of Labor</Annotation>
        <Annotation name="source_link">https://www.dol.gov/</Annotation>
        
        <Table name="bls_insurance_claims" primary_key="week_ended" />
    
        <DimensionUsage foreign_key="fips_code" source="State" name="State" />

        <Dimension name="Week Ended" foreign_key="week_ended">
          <Hierarchy name="Week Ended" primary_key="date">
              <Table name="dim_shared_date"/>
              <Level name="Week Ended" key_column="date" key_type="text" />
          </Hierarchy>
        </Dimension>

        <Dimension name="Week Previous" foreign_key="reflecting_week_end">
          <Hierarchy name="Week Previous" primary_key="date">
              <Table name="dim_shared_date"/>
              <Level name="Week Previous" key_column="date" key_type="text" />
          </Hierarchy>
        </Dimension>
    
        <Measure name="Initial Claims" column="initial_claims" aggregator="sum">    
            <Annotation name="details">Value</Annotation> 
        </Measure>
    
        <Measure name="Continued Claims" column="continued_claims" aggregator="sum">
            <Annotation name="details">Value</Annotation>
        </Measure>

        <Measure name="Covered Employment" column="covered_employment" aggregator="sum">    
            <Annotation name="details">Value</Annotation> 
        </Measure>

        <Measure name="Insured Unemployment Rate" column="insured_unemployment_rate" aggregator="avg">    
            <Annotation name="details">Rate</Annotation> 
        </Measure>
    
    </Cube>
    
    <Cube name="BLS Unemployment Insurance Claims - Most Recent">
    
      <Annotation name="source_name">U.S Department of Labor</Annotation>
      <Annotation name="source_link">https://www.dol.gov/</Annotation>
      
      <Table name="bls_insurance_most_recent" primary_key="week_ended" />
  
      <DimensionUsage foreign_key="fips_code" source="State" name="State" />

      <Dimension name="Week Ended" foreign_key="week_ended">
        <Hierarchy name="Week Ended" primary_key="date">
            <Table name="dim_shared_date"/>
            <Level name="Week Ended" key_column="date" key_type="text" />
        </Hierarchy>
      </Dimension>

      <Dimension name="Week Previous" foreign_key="reflecting_week_end">
        <Hierarchy name="Week Previous" primary_key="date">
            <Table name="dim_shared_date"/>
            <Level name="Week Previous" key_column="date" key_type="text" />
        </Hierarchy>
      </Dimension>
  
      <Measure name="Initial Claims" column="initial_claims" aggregator="sum">    
          <Annotation name="details">Value</Annotation> 
      </Measure>
  
      <Measure name="Continued Claims" column="continued_claims" aggregator="sum">
          <Annotation name="details">Value</Annotation>
      </Measure>

      <Measure name="Covered Employment" column="covered_employment" aggregator="sum">    
          <Annotation name="details">Value</Annotation> 
      </Measure>

      <Measure name="Insured Unemployment Rate" column="insured_unemployment_rate" aggregator="avg">    
          <Annotation name="details">Rate</Annotation> 
      </Measure>
  
    </Cube>

    <Cube name="BLS Employment - Industry Only" >
      
      <Annotation name="source_name">Bureau of Labor Statistics</Annotation>
      <Annotation name="source_description">The Bureau of Labor Statistics (BLS) of the U.S. Department of Labor is the principal federal agency responsible for measuring labor market activity, working conditions, and price changes in the economy.</Annotation>
      <Annotation name="dataset_name">Current Employment Statistics (CES)</Annotation>
      <Annotation name="dataset_link">https://www.bls.gov/data/#employment</Annotation>
      <Annotation name="topic">Economy</Annotation>
      <Annotation name="subtopic">Employment</Annotation>
      
      <Table name="bls_industry_fact" />

      <Dimension name="Time" foreign_key="time_id" >
        <Hierarchy name="Time" primary_key="time_id" >
          <Table name="dim_time"/>
          <Level name="Month of Year" key_column="time_id" name_column="month_name" key_type="text"/>
        </Hierarchy>
      </Dimension>

      <Dimension name="Employment State" foreign_key="state_id" >
        <Hierarchy name="Employment State" primary_key="state_id">
          <Table name="dim_state" />
          <Level name="Employment State" key_column="state_id" name_column="state_name" key_type="text"/>
        </Hierarchy>
      </Dimension>

      <Dimension name="Industry" foreign_key="industry_id" >
        <Hierarchy name="Industry" primary_key="industry_id">
          <Table name="dim_industry" />
          <Level name="Industry" key_column="industry_id" name_column="industry_name" key_type="text" />
        </Hierarchy>
      </Dimension>
      
      <Measure name="NSA Employees" column="NSA_employees" aggregator="sum" visible="true"/>
      <Measure name="NSA Average Employees" column="NSA_employees" aggregator="avg" visible="true"/>
      <Measure name="SA Employees" column="SA_employees" aggregator="sum" visible="true"/>
      <Measure name="SA Average Employees" column="SA_employees" aggregator="avg" visible="true"/>
    
  </Cube>

  <Cube name="BLS Employment - Supersector Only" >
    <Annotation name="source_name">Bureau of Labor Statistics</Annotation>
    <Annotation name="source_description">The Bureau of Labor Statistics (BLS) of the U.S. Department of Labor is the principal federal agency responsible for measuring labor market activity, working conditions, and price changes in the economy.</Annotation>
    <Annotation name="dataset_name">Current Employment Statistics (CES)</Annotation>
    <Annotation name="dataset_link">https://www.bls.gov/data/#employment</Annotation>
    <Annotation name="topic">Economy</Annotation>
    <Annotation name="subtopic">Employment</Annotation>

    <Table name="bls_supersector_fact" />

    <Dimension name="Time" foreign_key="time_id" >
      <Hierarchy name="Time" primary_key="time_id" >
        <Table name="dim_time"/>
        <Level name="Month of Year" key_column="time_id" name_column="month_name" key_type="text"/>
      </Hierarchy>
    </Dimension>

    <Dimension name="Employment State" foreign_key="state_id" >
      <Hierarchy name="Employment State" primary_key="state_id">
        <Table name="dim_state" />
        <Level name="Employment State" key_column="state_id" name_column="state_name" key_type="text"/>
      </Hierarchy>
    </Dimension>

    <Dimension name="Supersector" foreign_key="supersector_id" >
      <Hierarchy name="Supersector" primary_key="supersector_id">
        <Table name="dim_supersector" />
        <Level name="Supersector" key_column="supersector_id" name_column="supersector_name" key_type="text" />
      </Hierarchy>
    </Dimension>

    <Measure name="NSA Employees" column="NSA_employees" aggregator="sum" visible="true"/>
    <Measure name="NSA Average Employees" column="NSA_employees" aggregator="avg" visible="true"/>
    <Measure name="SA Employees" column="SA_employees" aggregator="sum" visible="true"/>
    <Measure name="SA Average Employees" column="SA_employees" aggregator="avg" visible="true"/>
    
  </Cube>

</Schema>
